(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),i=n(11),c=n.n(i),r=(n(75),n(44)),s=n(12),l=n(15),u=n(24),d=n(28),p=n(139),j=n(142),m=n(138),b=n(140),g=n(141),O=n(134),f=n(136),h=n.p+"static/media/rrss.f59d93fb.png",x=n(43),v=n.n(x),y=n(6),S=new d.data.Position(10.28759658,38.12764268);function E(t){console.log("clusterClicked",t)}function N(t){return{position:t,text:"My text",title:"Title"}}var k={textOptions:{textField:["get","title"],offset:[0,1.2]},iconOptions:{image:"pin-round-red"}},C=[{eventName:"click",callback:function(t){console.log("You click on: ",t)}}];var D=Object(O.a)((function(t){return{paper:{marginTop:t.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:t.spacing(1)},submit:{margin:t.spacing(3,0,1)}}})),I=function(){var t=Object(o.useState)([]),e=Object(s.a)(t,2),n=e[0],a=e[1],i=Object(o.useState)([S]),c=Object(s.a)(i,2),O=c[0],x=c[1],I=Object(o.useState)(!1),M=Object(s.a)(I,2),T=M[0],L=M[1],R=Object(o.useState)(""),w=Object(s.a)(R,2),A=w[0],P=w[1],J=Object(o.useState)("0"),z=Object(s.a)(J,2),B=z[0],W=z[1],q=Object(o.useState)("SymbolLayer"),U=Object(s.a)(q,1)[0],V=Object(o.useState)(k),Y=Object(s.a)(V,2),G=Y[0],K=(Y[1],Object(o.useMemo)((function(){return{authOptions:{authType:d.AuthenticationType.subscriptionKey,subscriptionKey:"jpsA_SDgQGj9Izup-_tILp15aTq6s1tRfoXUNiPoLYI"},center:[1.482148,39.020012],zoom:5,view:"Auto"}}),[]));Object(o.useEffect)((function(){v.a.get("https://microsoftxopenarms.herokuapp.com/coordenadas").then((function(t){var e;console.log(JSON.stringify(t.data));var o=[];for(console.log("NUMBER OF INCIDENTS IN DB "+JSON.stringify(t.data.length)),e=0;e<t.data.length;e++){var i=new d.data.Position(parseFloat(t.data[e].longitude),parseFloat(t.data[e].latitude));console.log(JSON.stringify(i)),o.push(i),console.log(JSON.stringify(o))}a((function(t){return[].concat(Object(r.a)(t),o)})),console.log(JSON.stringify(n))}))}),[]);var _=Object(o.useMemo)((function(){return n.map((function(t){return function(t){var e=Math.random();return Object(y.jsx)(u.c,{id:e.toString(),type:"Point",coordinate:t},e)}(t)}))}),[n]),Q=Object(o.useMemo)((function(){return O.map((function(t){return function(t){var e=Math.random();return Object(y.jsx)(u.d,{markerContent:Object(y.jsx)("div",{className:"pulseIcon"}),options:Object(l.a)({},N(t)),events:C},e)}(t)}))}),[O]);console.log("MarkerExample RENDER");var X=D();return Object(y.jsxs)(y.Fragment,{children:[T?Object(y.jsxs)(f.a,{component:"main",maxWidth:"xs",children:[Object(y.jsx)("img",{src:h,alt:"Logo",style:{height:"100px"}}),Object(y.jsx)(m.a,{}),Object(y.jsx)("div",{className:X.paper,style:{margin:"0px"},children:Object(y.jsxs)("form",{className:X.form,noValidate:!0,onSubmit:function(t){return function(t){t.preventDefault();var e=new d.data.Position(parseFloat(B),parseFloat(A));console.log(JSON.stringify(e)),a([].concat(Object(r.a)(n),[e])),L(!1),v.a.post("https://microsoftxopenarms.herokuapp.com/create",{longitude:B,latitude:A}).then((function(){console.log("sucess")}))}(t)},children:[Object(y.jsx)(b.a,{value:B,onChange:function(t){return W(t.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Longitud",id:"longitud",autoFocus:!0,type:"text"}),Object(y.jsx)(b.a,{value:A,onChange:function(t){return P(t.target.value)},variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"latitude",type:"text",label:"Latitude"}),Object(y.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:X.submit,children:"Add"})]})}),Object(y.jsx)(g.a,{mt:8})]}):null,Object(y.jsxs)("div",{id:"someRandomID",style:F.buttonContainer,children:[Object(y.jsxs)(p.a,{size:"small",variant:"contained",color:"primary",onClick:function(){L(!0),W(""),P("")},children:[" ","REPORT VESSEL INCIDENT"]}),Object(y.jsxs)(p.a,{size:"small",variant:"contained",color:"primary",onClick:function(){a([]),x([]),v.a.delete("https://microsoftxopenarms.herokuapp.com/delete").then((function(){console.log("Everything was deleted")}))},children:[" ","REMOVE ALL"]}),Object(y.jsx)(j.a,{label:"NUMBER OF INCIDENTS REPORTED: ".concat(n.length)})]}),Object(y.jsx)(u.f,{children:Object(y.jsx)("div",{style:F.map,onClick:function(){return L(!1)},children:Object(y.jsx)(u.a,{options:K,children:Object(y.jsxs)(u.b,{events:{dataadded:function(t){console.log("Data on source added",t)}},id:"markersExample AzureMapDataSourceProvider",options:{cluster:!0,clusterRadius:2},children:[Object(y.jsx)(u.e,{id:"markersExample AzureMapLayerProvider",options:G,events:{click:E,dbclick:E},lifecycleEvents:{layeradded:function(){console.log("LAYER ADDED TO MAP")}},type:U}),_,Q]})})})})]})},F={map:{height:"100vh",width:"100vw"},buttonContainer:{display:"grid",gridAutoFlow:"column",gridGap:"10px",gridAutoColumns:"max-content",padding:"10px",alignItems:"center"},button:{height:35,width:80,backgroundColor:"#68aba3","text-align":"center"}},M=Object(o.memo)(I),T=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(M,{})})},L=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(e){var n=e.getCLS,o=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),o(t),a(t),i(t),c(t)}))};c.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(T,{})}),document.getElementById("root")),L()},75:function(t,e,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.22958ecd.chunk.js.map